cmake_minimum_required(VERSION 3.10)
project(ASRService)

set(CMAKE_CXX_STANDARD 17)

# 1. Add the whisper.cpp directory
add_subdirectory(whisper.cpp)

# 2. Find other dependencies (e.g. cURL, Crow, etc.)
find_package(CURL REQUIRED)

# 3. Add your source files
add_executable(asr_service
    src/main.cpp
    src/asr_service.cpp
    # any other .cpp files...
)

# 4. Include directories for your code
target_include_directories(asr_service PRIVATE 
    ${CMAKE_CURRENT_SOURCE_DIR}/include
    ${CMAKE_CURRENT_SOURCE_DIR}/whisper.cpp
)

# 5. Link with the "whisper" library generated by whisper.cpp's CMakeLists.txt
target_link_libraries(asr_service 
    whisper   # from whisper.cpp
    CURL::libcurl
    # etc.
)
